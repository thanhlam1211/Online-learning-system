<!DOCTYPE html>
<html lang="en" xmlns:th="https://www.thymeleaf.org"
      xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity5">
<head>
    <title>Question List</title>
    <th:block th:replace="fragments/meta_head :: meta_head">
    </th:block>
</head>
<body>
<div th:include="fragments/navbar:: home_navbar(${categoryList})"></div>


<div class="container mt-100 py-5">
    <div class="d-flex flex-wrap justify-content-between">
        <div>
            <button type="button" class="btn btn-shadow btn-wide btn-primary"><span
                    class="btn-icon-wrapper pr-2 opacity-7"> <i class="fa fa-plus fa-w-20"></i> </span> New question
            </button>
        </div>
        <div class="col-12 col-md-3 p-0 mb-3">
            <form th:action="@{/questionList/1}">
                <label>
                    <input type="search" class="form-control" placeholder="Search..." name="keyword"
                           th:value="${keyword}">
                </label>
                <button type="submit" class="btn btn-primary">Search</button>
            </form>
        </div>

    </div>
    <div class="card mb-3 no-gutters">
        <table class="table no-gutters">
            <thead>
            <tr class="no-gutters">
                <th scope="col"><a>No</a></th>
                <th scope="col"><a>Question</a></th>
                <th scope="col"><a>Subject</a></th>
                <th scope="col"><a>Status</a></th>
                <th scope="col"><a>Level</a></th>
                <th scope="col"><a>Dimension</a></th>
                <th scope="col">Action</th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="question : ${questionList}">
                <th scope="row" th:text="${question.getId()}"></th>
                <td><a href="" class="text-big" data-abc="true" th:text="${question.getContent()}"></a></td>
                <td>Computer Science</td>
                <td th:text="${question.getStatus().getValue()}"></td>
                <td>HARD</td>
                <td>CS</td>
                &nbsp;
                <td>
                    <button type="submit" class="btn btn-primary">Detail</button>
                    &nbsp;
                    <button type="submit" class="btn btn-success">Edit</button>
                    &nbsp;
                    <button type="submit" class="btn btn-danger">Delete</button>
                </td>
                &nbsp;
            </tr>
            </tbody>
        </table>
    </div>
    <div class="text-center">
        <div class="text-center">
            <span>Total Items: [[${totalItems}]] - Page: [[${currentPage}]] of [[${totalPages}]] </span>
        </div>
        <nav class="pagination justify-content-center flex-wrap">
            <li th:class="${currentPage > 1 ? 'page-item' : 'page-item disabled'}">
                <a th:href="@{'/questionList/1' + ${keyword != null ? '?keyword=' + keyword : ''}}"
                   class="page-link">First</a>
            </li>
            <li th:class="${currentPage > 1 ? 'page-item' : 'page-item disabled'}">
                <a th:href="@{'/questionList/'+${currentPage - 1} + ${keyword != null ? '?keyword=' + keyword : ''}}"
                   class="page-link">Previous</a>
            </li>

            <th:block th:if="${totalPages <= 10}">
                <li th:each="i:${#numbers.sequence(1,totalPages)}" class="page-item">
                    <a th:href="@{'/questionList/'+${i} + ${keyword != null ? '?keyword=' + keyword : ''}}"
                       class="page-link"> [[${i}]]</a>
                </li>
            </th:block>
            <th:block th:if="${totalPages > 10}">
                <th:block th:if="${currentPage <= 3 ||currentPage > totalPages -3}">
                    <li th:each="i:${#numbers.sequence(1,3)}" class="page-item">
                        <a th:href="@{'/questionList/'+${i} + ${keyword != null ? '?keyword=' + keyword : ''}}"
                           class="page-link"> [[${i}]]</a>
                    </li>
                    <a th:href="@{'/questionList/4' + ${keyword != null ? '?keyword=' + keyword : ''}}"
                       class="page-link">...</a>
                    <li th:each="i:${#numbers.sequence(totalPages - 2,totalPages)}" class="page-item">
                        <a th:href="@{'/questionList/'+${i} + ${keyword != null ? '?keyword=' + keyword : ''}}"
                           class="page-link"> [[${i}]]</a>
                    </li>
                </th:block>
                <th:block th:if="${currentPage > 3 && currentPage <= totalPages -3}">
                    <a th:href="@{'/questionList/'+${currentPage - 3} + ${keyword != null ? '?keyword=' + keyword : ''}}"
                       class="page-link">...</a>
                    <li th:each="i:${#numbers.sequence(currentPage - 2,currentPage + 2)}" class="page-item">
                        <a th:href="@{'/questionList/'+${i} + ${keyword != null ? '?keyword=' + keyword : ''}}"
                           class="page-link"> [[${i}]]</a>
                    </li>
                    <a th:href="@{'/questionList/'+${currentPage + 3} + ${keyword != null ? '?keyword=' + keyword : ''}}"
                       class="page-link">...</a>
                </th:block>
            </th:block>


            <li th:class="${currentPage < totalPages ? 'page-item' : 'page-item disabled'}">
                <a th:href="@{'/questionList/'+${currentPage + 1} + ${keyword != null ? '?keyword=' + keyword : ''}}"
                   class="page-link">Next</a>
            </li>
            <li th:class="${currentPage < totalPages ? 'page-item' : 'page-item disabled'}">
                <a th:href="@{'/questionList/'+${totalPages} + ${keyword != null ? '?keyword=' + keyword : ''}}"
                   class="page-link">Last</a>
            </li>
        </nav>
    </div>
</div>

<th:block th:replace="fragments/footer :: footer">
</th:block>
</body>
<th:block th:replace="fragments/js_lib :: js_lib">
</th:block>
</html>