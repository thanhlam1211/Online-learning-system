<!doctype html>
<html xmlns:th="https://www.thymeleaf.org">

<head>
    <title>Edulan - Education HTML Template</title>
    <th:block th:replace="fragments/meta_head :: meta_head"></th:block>
</head>
<body>
<!-- body wrap start -->
<div class="body_wrap">

    <!-- backtotop - start -->
    <div id="thetop"></div>
    <div id="backtotop">
        <a href="#" id="scroll">
            <i class="fal fa-arrow-up"></i>
            <i class="fal fa-arrow-up"></i>
        </a>
    </div>
    <!-- backtotop - end -->

    <!-- header start -->
    <div th:include="fragments/navbar:: home_navbar(${listCategory})"></div>
    <!-- header start -->

    <main>
        <!-- courses start -->
        <section class="courses_area pt-120 pb-120">
            <div class="container">
                <div class="row">
                    <form th:action="@{/page/1}">
                        <div class="input-group col-10">
                            <input type="search" class="form-control rounded" placeholder="Search Quizes"
                                   aria-label="Search"
                                   name="keyword" th:value="${keyword}"
                                   aria-describedby="search-addon"/>
                            <button type="submit" class="btn btn-outline-primary col-2">search</button>
                        </div>
                    </form>
                </div>

                <div class="mt-3">
                    <table border="2" class="table table-hover table-bordered table-responsive">
                        <caption>List of quizes</caption>
                        <thead class="table-primary">
                        <tr>
                            <th scope="col">ID</th>
                            <th scope="col">Course</th>
                            <th scope="col">Quiz Name</th>
                            <th scope="col">Level</th>
                            <th scope="col">Description</th>
                            <th scope="col">Total questions</th>
                            <th scope="col">Duration</th>
                            <th scope="col">Pass rate</th>
                            <th scope="col">Type</th>
                            <th scope="col">Details</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr th:each="quiz : ${listQuiz}">
                            <th scope="row" th:text="${quiz.getId()}">1</th>
                            <td th:text="${quiz.getCourse().getTitle()}"></td>
                            <td th:text="${quiz.getName()}"></td>
                            <td th:text="${quiz.getQuizLevel().getName()}"></td>
                            <td th:text="${quiz.getDescription()}"></td>
                            <td th:text="${quiz.getNumberQuestion()}"></td>
                            <td th:text="${quiz.getDuration()}"></td>
                            <td th:text="${quiz.getPassRate()}"></td>
                            <td th:text="${quiz.getQuizType().getName()}"></td>
                            <td>Details</td>
                        </tr>
                        </tbody>
                    </table>
                </div>


                <div class="text-center">
                    <div class="text-center">
                        <span>Total Items: [[${totalItems}]] - Page: [[${currentPage}]] of [[${totalPages}]] </span>
                    </div>
                    <nav class="pagination justify-content-center flex-wrap">
                        <li th:class="${currentPage > 1 ? 'page-item' : 'page-item disabled'}">
                            <a th:href="@{'/page/1' + ${keyword != null ? '?keyword=' + keyword : ''}}"
                               class="page-link">First</a>
                        </li>
                        <li th:class="${currentPage > 1 ? 'page-item' : 'page-item disabled'}">
                            <a th:href="@{'/page/'+${currentPage - 1} + ${keyword != null ? '?keyword=' + keyword : ''}}"
                               class="page-link">Previous</a>
                        </li>

                        <th:block th:if="${totalPages <= 10}">
                            <li th:each="i:${#numbers.sequence(1,totalPages)}" class="page-item">
                                <a th:href="@{'/page/'+${i} + ${keyword != null ? '?keyword=' + keyword : ''}}"
                                   class="page-link"> [[${i}]]</a>
                            </li>
                        </th:block>
                        <th:block th:if="${totalPages > 10}">
                            <th:block th:if="${currentPage <= 3 ||currentPage > totalPages -3}">
                                <li th:each="i:${#numbers.sequence(1,3)}" class="page-item">
                                    <a th:href="@{'/page/'+${i} + ${keyword != null ? '?keyword=' + keyword : ''}}"
                                       class="page-link"> [[${i}]]</a>
                                </li>
                                <a th:href="@{'/page/4' + ${keyword != null ? '?keyword=' + keyword : ''}}"
                                   class="page-link">...</a>
                                <li th:each="i:${#numbers.sequence(totalPages - 2,totalPages)}" class="page-item">
                                    <a th:href="@{'/page/'+${i} + ${keyword != null ? '?keyword=' + keyword : ''}}"
                                       class="page-link"> [[${i}]]</a>
                                </li>
                            </th:block>
                            <th:block th:if="${currentPage > 3 && currentPage <= totalPages -3}">
                                <a th:href="@{'/page/'+${currentPage - 3} + ${keyword != null ? '?keyword=' + keyword : ''}}"
                                   class="page-link">...</a>
                                <li th:each="i:${#numbers.sequence(currentPage - 2,currentPage + 2)}" class="page-item">
                                    <a th:href="@{'/page/'+${i} + ${keyword != null ? '?keyword=' + keyword : ''}}"
                                       class="page-link"> [[${i}]]</a>
                                </li>
                                <a th:href="@{'/page/'+${currentPage + 3} + ${keyword != null ? '?keyword=' + keyword : ''}}"
                                   class="page-link">...</a>
                            </th:block>
                        </th:block>


                        <li th:class="${currentPage < totalPages ? 'page-item' : 'page-item disabled'}">
                            <a th:href="@{'/page/'+${currentPage + 1} + ${keyword != null ? '?keyword=' + keyword : ''}}"
                               class="page-link">Next</a>
                        </li>
                        <li th:class="${currentPage < totalPages ? 'page-item' : 'page-item disabled'}">
                            <a th:href="@{'/page/'+${totalPages} + ${keyword != null ? '?keyword=' + keyword : ''}}"
                               class="page-link">Last</a>
                        </li>
                    </nav>
                </div>
            </div>
        </section>
        <!-- courses end -->

    </main>

    <th:block th:replace="fragments/footer :: footer">

    </th:block>

    <div class="modal" id="myModal">
        <div class="modal-dialog">
            <div class="modal-content">

            </div>
        </div>
    </div>

</div>
<!-- body wrap end -->

<!-- jquery include -->
<th:block th:replace="fragments/js_lib :: js_lib">
</th:block>
<script type="text/javascript">
    $(document).ready(function () {
        $(".link-detail").on("click", function (e) {
            e.preventDefault();
            $("#myModal").modal("show").find(".modal-content").load($(this).attr("href"));
        });
    });

</script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"></script>
</body>

</html>